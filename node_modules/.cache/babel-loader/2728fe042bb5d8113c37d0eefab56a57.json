{"ast":null,"code":"import _classCallCheck from\"C:/DiskA/Frontend/Udemy2021Tasks/Projects/React/marvel/marvel-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/DiskA/Frontend/Udemy2021Tasks/Projects/React/marvel/marvel-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/DiskA/Frontend/Udemy2021Tasks/Projects/React/marvel/marvel-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/DiskA/Frontend/Udemy2021Tasks/Projects/React/marvel/marvel-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{Component}from'react';import MarvelService from'../../services/MarvelService';import'./randomChar.scss';import mjolnir from'../../resources/img/mjolnir.png';import Spinner from'../spinner/Spinner';import ErrorMessage from'../errorMessage/ErrorMessage';import ImgObjFit from'../blocks/imgObjectFit';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RandomChar=/*#__PURE__*/function(_Component){_inherits(RandomChar,_Component);var _super=_createSuper(RandomChar);function RandomChar(){var _this;_classCallCheck(this,RandomChar);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={char:{},loading:true,error:false};_this.marvelService=new MarvelService();_this.onCharLoaded=function(char){_this.setState({char:char,loading:false});};_this.onCharLoading=function(){_this.setState({loading:true});};_this.onError=function(){_this.setState({loading:false,error:true});};_this.updateChar=function(){var id=Math.floor(Math.random()*(1011400-1011000)+1011000);_this.onCharLoading();_this.marvelService.getCharacter(id).then(_this.onCharLoaded).catch(_this.onError);};return _this;}_createClass(RandomChar,[{key:\"componentDidMount\",value:function componentDidMount(){this.updateChar();}},{key:\"render\",value:function render(){var _this$state=this.state,char=_this$state.char,loading=_this$state.loading,error=_this$state.error;var errorMessage=error?/*#__PURE__*/_jsx(ErrorMessage,{}):null;var spinner=loading?/*#__PURE__*/_jsx(Spinner,{}):null;var content=!(loading||error)?/*#__PURE__*/_jsx(View,{char:char}):null;return/*#__PURE__*/_jsxs(\"div\",{className:\"randomchar\",children:[errorMessage,spinner,content,/*#__PURE__*/_jsxs(\"div\",{className:\"randomchar__static\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"randomchar__title\",children:[\"Random character for today!\",/*#__PURE__*/_jsx(\"br\",{}),\"Do you want to get to know him better?\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"randomchar__title\",children:\"Or choose another one\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button button__main\",children:/*#__PURE__*/_jsx(\"div\",{className:\"inner\",onClick:this.updateChar,children:\"try it\"})}),/*#__PURE__*/_jsx(\"img\",{src:mjolnir,alt:\"mjolnir\",className:\"randomchar__decoration\"})]})]});}}]);return RandomChar;}(Component);var View=function View(_ref){var char=_ref.char;var name=char.name,description=char.description,homepage=char.homepage,wiki=char.wiki;return/*#__PURE__*/_jsxs(\"div\",{className:\"randomchar__block\",children:[/*#__PURE__*/_jsx(ImgObjFit,{char:char}),/*#__PURE__*/_jsxs(\"div\",{className:\"randomchar__info\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"randomchar__name\",children:name}),/*#__PURE__*/_jsx(\"p\",{className:\"randomchar__descr\",children:description}),/*#__PURE__*/_jsxs(\"div\",{className:\"randomchar__btns\",children:[/*#__PURE__*/_jsx(\"a\",{href:homepage,className:\"button button__main\",children:/*#__PURE__*/_jsx(\"div\",{className:\"inner\",children:\"homepage\"})}),/*#__PURE__*/_jsx(\"a\",{href:wiki,className:\"button button__secondary\",children:/*#__PURE__*/_jsx(\"div\",{className:\"inner\",children:\"Wiki\"})})]})]})]});};// const Img = ({char}) => {\n//     const {thumbnail} = char;\n//     if (thumbnail === \"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg\") {\n//         return (\n//             <img src={thumbnail} alt=\"Random character\" style={{objectFit:\"contain\"}} className=\"randomchar__img\"/>\n//         )\n//     } else {\n//         return (\n//             <img src={thumbnail} alt=\"Random character\" className=\"randomchar__img\"/>\n//         )\n//     }\n// }\nexport default RandomChar;","map":{"version":3,"sources":["C:/DiskA/Frontend/Udemy2021Tasks/Projects/React/marvel/marvel-app/src/components/randomChar/RandomChar.js"],"names":["Component","MarvelService","mjolnir","Spinner","ErrorMessage","ImgObjFit","RandomChar","state","char","loading","error","marvelService","onCharLoaded","setState","onCharLoading","onError","updateChar","id","Math","floor","random","getCharacter","then","catch","errorMessage","spinner","content","View","name","description","homepage","wiki"],"mappings":"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","sourcesContent":["import { Component } from 'react';\r\nimport MarvelService from '../../services/MarvelService';\r\nimport './randomChar.scss';\r\n\r\nimport mjolnir from '../../resources/img/mjolnir.png';\r\nimport Spinner from '../spinner/Spinner';\r\nimport ErrorMessage from '../errorMessage/ErrorMessage';\r\nimport ImgObjFit from '../blocks/imgObjectFit';\r\n\r\nclass RandomChar extends Component {\r\n\r\n    state = {\r\n        char: {},\r\n        loading: true,\r\n        error: false\r\n    }\r\n\r\n    marvelService = new MarvelService();\r\n\r\n    componentDidMount() {\r\n        this.updateChar();\r\n    }\r\n\r\n    onCharLoaded = (char) => {\r\n        this.setState({\r\n            char, \r\n            loading: false\r\n        });\r\n    }\r\n\r\n    onCharLoading = () => {\r\n        this.setState({\r\n            loading: true\r\n        })\r\n    }\r\n\r\n    onError = () => {\r\n        this.setState({\r\n            loading: false,\r\n            error: true\r\n        })\r\n    }\r\n\r\n    updateChar = () => {\r\n        const id = Math.floor(Math.random() * (1011400 - 1011000) + 1011000);\r\n        this.onCharLoading();\r\n        this.marvelService\r\n            .getCharacter(id)\r\n            .then(this.onCharLoaded)\r\n            .catch(this.onError);\r\n    }\r\n\r\n    render() {\r\n        const {char, loading, error} = this.state;\r\n        const errorMessage = error ? <ErrorMessage/> : null;\r\n        const spinner = loading ? <Spinner/> : null;\r\n        const content = !(loading || error) ? <View char={char}/> : null;\r\n        \r\n        return (\r\n            <div className=\"randomchar\">\r\n                {errorMessage}\r\n                {spinner}\r\n                {content}\r\n                <div className=\"randomchar__static\">\r\n                    <p className=\"randomchar__title\">\r\n                        Random character for today!<br/>\r\n                        Do you want to get to know him better?\r\n                    </p>\r\n                    <p className=\"randomchar__title\">\r\n                        Or choose another one\r\n                    </p>\r\n                    <button className=\"button button__main\">\r\n                        <div className=\"inner\"\r\n                             onClick={this.updateChar}>try it\r\n                        </div>\r\n                    </button>\r\n                    <img src={mjolnir} alt=\"mjolnir\" className=\"randomchar__decoration\"/>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst View = ({char}) => {\r\n    const {name, description, homepage, wiki} = char;\r\n    \r\n    return (\r\n            <div className=\"randomchar__block\">\r\n                <ImgObjFit char={char}/>\r\n                <div className=\"randomchar__info\">\r\n                    <p className=\"randomchar__name\">{name}</p>\r\n                    <p className=\"randomchar__descr\">\r\n                        {description}\r\n                    </p>\r\n                    <div className=\"randomchar__btns\">\r\n                        <a href={homepage} className=\"button button__main\">\r\n                            <div className=\"inner\">homepage</div>\r\n                        </a>\r\n                        <a href={wiki} className=\"button button__secondary\">\r\n                            <div className=\"inner\">Wiki</div>\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n    )\r\n}\r\n\r\n// const Img = ({char}) => {\r\n//     const {thumbnail} = char;\r\n    \r\n//     if (thumbnail === \"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg\") {\r\n//         return (\r\n//             <img src={thumbnail} alt=\"Random character\" style={{objectFit:\"contain\"}} className=\"randomchar__img\"/>\r\n//         )\r\n//     } else {\r\n//         return (\r\n//             <img src={thumbnail} alt=\"Random character\" className=\"randomchar__img\"/>\r\n//         )\r\n//     }\r\n// }\r\n\r\nexport default RandomChar;"]},"metadata":{},"sourceType":"module"}