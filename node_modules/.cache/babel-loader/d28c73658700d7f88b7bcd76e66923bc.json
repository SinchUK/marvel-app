{"ast":null,"code":"import _slicedToArray from\"C:/DiskA/Frontend/Udemy2021Tasks/Projects/React/marvel/marvel-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import MarvelService from'../../services/MarvelService';import'./randomChar.scss';import mjolnir from'../../resources/img/mjolnir.png';import Spinner from'../spinner/Spinner';import ErrorMessage from'../errorMessage/ErrorMessage';import ImgObjFit from'../blocks/imgObjectFit';import{useEffect,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RandomChar=function RandomChar(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),char=_useState2[0],setChar=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var marvelService=new MarvelService();useEffect(function(){updateChar();},[]);var onCharLoaded=function onCharLoaded(char){setChar(char);setLoading(false);};var onCharLoading=function onCharLoading(){setLoading(true);};var onError=function onError(){setLoading(false);setError(true);};var updateChar=function updateChar(){var id=Math.floor(Math.random()*(1011400-1011000)+1011000);onCharLoading();marvelService.getCharacter(id).then(onCharLoaded).catch(onError);};var errorMessage=error?/*#__PURE__*/_jsx(ErrorMessage,{}):null;var spinner=loading?/*#__PURE__*/_jsx(Spinner,{}):null;var content=!(loading||error)?/*#__PURE__*/_jsx(View,{char:char}):null;return/*#__PURE__*/_jsxs(\"div\",{className:\"randomchar\",children:[errorMessage,spinner,content,/*#__PURE__*/_jsxs(\"div\",{className:\"randomchar__static\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"randomchar__title\",children:[\"Random character for today!\",/*#__PURE__*/_jsx(\"br\",{}),\"Do you want to get to know him better?\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"randomchar__title\",children:\"Or choose another one\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button button__main\",children:/*#__PURE__*/_jsx(\"div\",{className:\"inner\",onClick:updateChar,children:\"try it\"})}),/*#__PURE__*/_jsx(\"img\",{src:mjolnir,alt:\"mjolnir\",className:\"randomchar__decoration\"})]})]});};var View=function View(_ref){var char=_ref.char;var name=char.name,description=char.description,homepage=char.homepage,wiki=char.wiki;return/*#__PURE__*/_jsxs(\"div\",{className:\"randomchar__block\",children:[/*#__PURE__*/_jsx(ImgObjFit,{char:char}),/*#__PURE__*/_jsxs(\"div\",{className:\"randomchar__info\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"randomchar__name\",children:name}),/*#__PURE__*/_jsx(\"p\",{className:\"randomchar__descr\",children:description}),/*#__PURE__*/_jsxs(\"div\",{className:\"randomchar__btns\",children:[/*#__PURE__*/_jsx(\"a\",{href:homepage,className:\"button button__main\",children:/*#__PURE__*/_jsx(\"div\",{className:\"inner\",children:\"homepage\"})}),/*#__PURE__*/_jsx(\"a\",{href:wiki,className:\"button button__secondary\",children:/*#__PURE__*/_jsx(\"div\",{className:\"inner\",children:\"Wiki\"})})]})]})]});};// const Img = ({char}) => {\n//     const {thumbnail} = char;\n//     if (thumbnail === \"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg\") {\n//         return (\n//             <img src={thumbnail} alt=\"Random character\" style={{objectFit:\"contain\"}} className=\"randomchar__img\"/>\n//         )\n//     } else {\n//         return (\n//             <img src={thumbnail} alt=\"Random character\" className=\"randomchar__img\"/>\n//         )\n//     }\n// }\nexport default RandomChar;","map":{"version":3,"sources":["C:/DiskA/Frontend/Udemy2021Tasks/Projects/React/marvel/marvel-app/src/components/randomChar/RandomChar.js"],"names":["MarvelService","mjolnir","Spinner","ErrorMessage","ImgObjFit","useEffect","useState","RandomChar","char","setChar","loading","setLoading","error","setError","marvelService","updateChar","onCharLoaded","onCharLoading","onError","id","Math","floor","random","getCharacter","then","catch","errorMessage","spinner","content","View","name","description","homepage","wiki"],"mappings":"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","sourcesContent":["import MarvelService from '../../services/MarvelService';\r\nimport './randomChar.scss';\r\n\r\nimport mjolnir from '../../resources/img/mjolnir.png';\r\nimport Spinner from '../spinner/Spinner';\r\nimport ErrorMessage from '../errorMessage/ErrorMessage';\r\nimport ImgObjFit from '../blocks/imgObjectFit';\r\nimport { useEffect, useState } from 'react';\r\n\r\nconst RandomChar = () => {\r\n\r\n    const [char, setChar] = useState({});\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(false);\r\n\r\n    const marvelService = new MarvelService();\r\n\r\n    useEffect(()=> {\r\n        updateChar();\r\n    },[])\r\n\r\n    const onCharLoaded = (char) => {\r\n        setChar(char);\r\n        setLoading(false);\r\n    }\r\n\r\n    const onCharLoading = () => {\r\n        setLoading(true);\r\n    }\r\n\r\n    const onError = () => {\r\n        setLoading(false);\r\n        setError(true);\r\n    }\r\n\r\n    const updateChar = () => {\r\n        const id = Math.floor(Math.random() * (1011400 - 1011000) + 1011000);\r\n        onCharLoading();\r\n        marvelService\r\n            .getCharacter(id)\r\n            .then(onCharLoaded)\r\n            .catch(onError);\r\n    }\r\n\r\n    const errorMessage = error ? <ErrorMessage/> : null;\r\n    const spinner = loading ? <Spinner/> : null;\r\n    const content = !(loading || error) ? <View char={char}/> : null;\r\n    \r\n    return (\r\n        <div className=\"randomchar\">\r\n            {errorMessage}\r\n            {spinner}\r\n            {content}\r\n            <div className=\"randomchar__static\">\r\n                <p className=\"randomchar__title\">\r\n                    Random character for today!<br/>\r\n                    Do you want to get to know him better?\r\n                </p>\r\n                <p className=\"randomchar__title\">\r\n                    Or choose another one\r\n                </p>\r\n                <button className=\"button button__main\">\r\n                    <div className=\"inner\"\r\n                            onClick={updateChar}>try it\r\n                    </div>\r\n                </button>\r\n                <img src={mjolnir} alt=\"mjolnir\" className=\"randomchar__decoration\"/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst View = ({char}) => {\r\n    const {name, description, homepage, wiki} = char;\r\n    \r\n    return (\r\n            <div className=\"randomchar__block\">\r\n                <ImgObjFit char={char}/>\r\n                <div className=\"randomchar__info\">\r\n                    <p className=\"randomchar__name\">{name}</p>\r\n                    <p className=\"randomchar__descr\">\r\n                        {description}\r\n                    </p>\r\n                    <div className=\"randomchar__btns\">\r\n                        <a href={homepage} className=\"button button__main\">\r\n                            <div className=\"inner\">homepage</div>\r\n                        </a>\r\n                        <a href={wiki} className=\"button button__secondary\">\r\n                            <div className=\"inner\">Wiki</div>\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n    )\r\n}\r\n\r\n// const Img = ({char}) => {\r\n//     const {thumbnail} = char;\r\n    \r\n//     if (thumbnail === \"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg\") {\r\n//         return (\r\n//             <img src={thumbnail} alt=\"Random character\" style={{objectFit:\"contain\"}} className=\"randomchar__img\"/>\r\n//         )\r\n//     } else {\r\n//         return (\r\n//             <img src={thumbnail} alt=\"Random character\" className=\"randomchar__img\"/>\r\n//         )\r\n//     }\r\n// }\r\n\r\nexport default RandomChar;"]},"metadata":{},"sourceType":"module"}